/*
  ------------------------------------------------------------  
  Goal of the Program:
    - Demonstrate the use of a 16x2 LCD with the LiquidCrystal library.
    - Read an analog voltage on A0, convert it to a real voltage value.
    - Display the voltage and elapsed time on the LCD.

  Main Theme:
    - LCD communication using the HD44780 driver.
    - Analog-to-digital conversion (ADC) on Arduino.
    - Basic LCD printing and cursor positioning.

  Wiring:
    LCD RS       → 12
    LCD Enable   → 11
    LCD D4       → 5
    LCD D5       → 4
    LCD D6       → 3
    LCD D7       → 2
    LCD RW       → GND
    LCD VSS      → GND
    LCD VCC      → +5V
    LCD VO       → middle pin of a 10k potentiometer

    10k potentiometer:
      - One end → +5V
      - Other end → GND
      - Middle → LCD pin 3 (VO) for contrast control

  ------------------------------------------------------------
  The original Arduino example was created by:
    David A. Mellis, Limor Fried, Tom Igoe, Arturo Guadalupi
  And is in the public domain.
  ------------------------------------------------------------
*/

// include the LCD library (required for controlling the display)
#include <LiquidCrystal.h>

// define which Arduino pins connect to the LCD
const int rs = 12;        // Register Select pin
const int en = 11;        // Enable pin
const int d4 = 5;         // Data pin 4
const int d5 = 4;         // Data pin 5
const int d6 = 3;         // Data pin 6
const int d7 = 2;         // Data pin 7

// create an LCD object using the above pin configuration
LiquidCrystal lcd(rs, en, d4, d5, d6, d7);

void setup() {

  lcd.begin(16, 2);       // Initialize a 16-column, 2-row LCD display

  Serial.begin(9600);     // Begin Serial Monitor communication at 9600 baud
}

void loop() {

  lcd.setCursor(0, 0);    // Set LCD cursor to column 0, row 0 (top-left corner)

  int V = analogRead(A0); // Read analog input A0 (0–1023 raw ADC value)

  // Convert the ADC reading to a voltage:
  // ADC formula: Voltage = (ADC_value * 5.0) / 1023
  float VA = V * (5.00 / 1023.0);

  lcd.print(VA);          // Display the calculated voltage on the LCD

  Serial.print("VA = ");  // Print label to Serial Monitor
  Serial.println(VA);     // Print the voltage value to Serial Monitor

  lcd.setCursor(0, 1);    // Move to the second row of the LCD
  lcd.print(millis() / 1000); // Print the number of seconds since the Arduino powered on

  delay(200);             // Short delay so the LCD updates smoothly
